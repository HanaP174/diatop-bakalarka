{"ast":null,"code":"import { HttpHeaders } from \"@angular/common/http\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class AppService {\n  constructor(http) {\n    this.http = http;\n    this.authenticated = false;\n  }\n  authenticate(credentials, callback) {\n    const headers = new HttpHeaders(credentials ? {\n      authorization: 'Basic ' + btoa(credentials.username + ':' + credentials.password)\n    } : {});\n    this.http.get('/user', {\n      headers: headers\n    }).subscribe({\n      next: response => {\n        this.authenticated = response.hasOwnProperty('name');\n        return callback && callback();\n      },\n      error: error => {\n        console.log(error.toString());\n      }\n    });\n  }\n}\nAppService.ɵfac = function AppService_Factory(t) {\n  return new (t || AppService)(i0.ɵɵinject(i1.HttpClient));\n};\nAppService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: AppService,\n  factory: AppService.ɵfac\n});","map":{"version":3,"mappings":"AACA,SAAoBA,WAAW,QAAO,sBAAsB;;;AAG5D,OAAM,MAAOC,UAAU;EAIrBC,YAAoBC,IAAgB;IAAhB,SAAI,GAAJA,IAAI;IAFxB,kBAAa,GAAG,KAAK;EAGrB;EAEAC,YAAY,CAACC,WAAmD,EAAEC,QAAoB;IAEpF,MAAMC,OAAO,GAAG,IAAIP,WAAW,CAACK,WAAW,GAAG;MAC5CG,aAAa,EAAG,QAAQ,GAAGC,IAAI,CAACJ,WAAW,CAACK,QAAQ,GAAG,GAAG,GAAGL,WAAW,CAACM,QAAQ;KAClF,GAAG,EAAE,CAAC;IAEP,IAAI,CAACR,IAAI,CAACS,GAAG,CAAC,OAAO,EAAE;MAACL,OAAO,EAAEA;IAAO,CAAC,CAAC,CAACM,SAAS,CAAE;MACpDC,IAAI,EAAEC,QAAQ,IAAG;QACf,IAAI,CAACC,aAAa,GAAGD,QAAQ,CAACE,cAAc,CAAC,MAAM,CAAC;QACpD,OAAOX,QAAQ,IAAIA,QAAQ,EAAE;MAC/B,CAAC;MACDY,KAAK,EAAEA,KAAK,IAAG;QACbC,OAAO,CAACC,GAAG,CAACF,KAAK,CAACG,QAAQ,EAAE,CAAC;MAC/B;KACD,CAAC;EAEJ;;AAvBWpB,UAAU;mBAAVA,UAAU;AAAA;AAAVA,UAAU;SAAVA,UAAU;EAAAqB,SAAVrB,UAAU;AAAA","names":["HttpHeaders","AppService","constructor","http","authenticate","credentials","callback","headers","authorization","btoa","username","password","get","subscribe","next","response","authenticated","hasOwnProperty","error","console","log","toString","factory"],"sourceRoot":"","sources":["C:\\Users\\Hana\\diatop-bakalarka\\gateway\\src\\app\\app.service.ts"],"sourcesContent":["import {Injectable} from \"@angular/core\";\r\nimport {HttpClient, HttpHeaders} from \"@angular/common/http\";\r\n\r\n@Injectable()\r\nexport class AppService {\r\n\r\n  authenticated = false;\r\n\r\n  constructor(private http: HttpClient) {\r\n  }\r\n\r\n  authenticate(credentials: { password: string; username: string }, callback: () => void) {\r\n\r\n    const headers = new HttpHeaders(credentials ? {\r\n      authorization : 'Basic ' + btoa(credentials.username + ':' + credentials.password)\r\n    } : {});\r\n\r\n    this.http.get('/user', {headers: headers}).subscribe( {\r\n      next: response => {\r\n        this.authenticated = response.hasOwnProperty('name');\r\n        return callback && callback();\r\n      },\r\n      error: error => {\r\n        console.log(error.toString());\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}